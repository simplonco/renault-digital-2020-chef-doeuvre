<div class="container-md">
  <div class="card">
    <div class="card-body">
      <h2>Create a Synth</h2>
      <form name="form" (ngSubmit)="synthForm.form.valid && synth()" #synthForm="ngForm" novalidate>
        <div class="form-group">
          <label for="brand">Brand</label>
          <input type="text" class="form-control" id="brand" name="brand" [(ngModel)]="model.brand" #brand="ngModel">
        </div>
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name" name="name" [(ngModel)]="model.name" #name="ngModel">
        </div>
        <div class="form-group">
          <label for="creationYear">Creation Year</label>
          <input type="text" class="form-control" id="creationYear" name="creationYear" [(ngModel)]="model.creationYear"
                 #creationYear="ngModel">
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h2>Your Synths</h2>
      <table class="table">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Brand</th>
          <th scope="col">Name</th>
          <th scope="col">Creation Year</th>
          <th scope="col">Created By Username</th>
          <th scope="col">Image</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let synth of synths">
          <th scope="row">{{ synth.id }}</th>
          <td>{{ synth.brand }}</td>
          <td>{{ synth.name }}</td>
          <td>{{ synth.creationYear }}</td>
          <td>{{ synth.createdByUsername }}</td>
          <td>
            <img *ngIf="synth.filename" src="http://127.0.0.1:8080/{{ synth.filename }}" style="width: 250px"/>
            <form [formGroup]="uploadForm" (ngSubmit)="onSubmit($event)">
              <div>
                <input type="file" name="profile" (change)="onFileSelect($event)" data-id="{{ synth.id }}"/>
              </div>
              <div>
                <button type="submit" class="btn btn-primary">Upload</button>
              </div>
            </form>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
